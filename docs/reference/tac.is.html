<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>TAC implementation system module — tac.is • mse</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="TAC implementation system module — tac.is"><meta property="og:description" content="Performs a short term forecast (STF) for the target fishing mortality to
obtain the corresponding catch."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/mse-manual.html">Technical Manual for the mse FLR/a4a package</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/flr/mse/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>TAC implementation system module</h1>
    <small class="dont-index">Source: <a href="https://github.com/flr/mse/blob/HEAD/R/is.R" class="external-link"><code>R/is.R</code></a></small>
    <div class="hidden name"><code>tac.is.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Performs a short term forecast (STF) for the target fishing mortality to
obtain the corresponding catch.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tac.is</span><span class="op">(</span></span>
<span>  <span class="va">stk</span>,</span>
<span>  <span class="va">ctrl</span>,</span>
<span>  <span class="va">args</span>,</span>
<span>  output <span class="op">=</span> <span class="st">"catch"</span>,</span>
<span>  recyrs <span class="op">=</span> <span class="op">-</span><span class="fl">2</span>,</span>
<span>  Fdevs <span class="op">=</span> <span class="fu">fbar</span><span class="op">(</span><span class="va">fut</span><span class="op">)</span> <span class="op">%=%</span> <span class="fl">1</span>,</span>
<span>  dtaclow <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  dtacupp <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  fmin <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  reuse <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  initac <span class="op">=</span> <span class="fu">metrics</span><span class="op">(</span><span class="va">stk</span>, <span class="va">output</span><span class="op">)</span><span class="op">[</span>, <span class="fu">ac</span><span class="op">(</span><span class="va">iy</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  <span class="va">tracking</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-stk">stk<a class="anchor" aria-label="anchor" href="#arg-stk"></a></dt>
<dd><p>The perceived FLStock.</p></dd>


<dt id="arg-ctrl">ctrl<a class="anchor" aria-label="anchor" href="#arg-ctrl"></a></dt>
<dd><p>The fwdControl output by the <em>hcr</em> step, target must be 'fbar'.</p></dd>


<dt id="arg-args">args<a class="anchor" aria-label="anchor" href="#arg-args"></a></dt>
<dd><p>The MSE run arguments.</p></dd>


<dt id="arg-recyrs">recyrs<a class="anchor" aria-label="anchor" href="#arg-recyrs"></a></dt>
<dd><p>Years to use for geometric mean recruitment if projection. Defaults to all years minus the last two.</p></dd>


<dt id="arg-fdevs">Fdevs<a class="anchor" aria-label="anchor" href="#arg-fdevs"></a></dt>
<dd><p>Deviances on the fbar input to incorporate error and bias when MP is run using the pseudo-estimators 'perfect.sa' or 'shortcut.sa'.</p></dd>


<dt id="arg-dtaclow">dtaclow<a class="anchor" aria-label="anchor" href="#arg-dtaclow"></a></dt>
<dd><p>Limit to decreases in output catch, as a proportional change (0.85 for 15%). Applied only when metric &gt; lim, as set by 'hcr' step.</p></dd>


<dt id="arg-dtacupp">dtacupp<a class="anchor" aria-label="anchor" href="#arg-dtacupp"></a></dt>
<dd><p>Limit to increases in output catch, as a proportional change (1.15 for 15%). Applied only when metric &gt; lim, as set by 'hcr' step.</p></dd>


<dt id="arg-fmin">fmin<a class="anchor" aria-label="anchor" href="#arg-fmin"></a></dt>
<dd><p>Minimum fbar to apply when catch change limits are use.</p></dd>


<dt id="arg-initac">initac<a class="anchor" aria-label="anchor" href="#arg-initac"></a></dt>
<dd><p>Initial catch from which to compute catch change limits. Defaults to previous observed catch.</p></dd>


<dt id="arg-tracking">tracking<a class="anchor" aria-label="anchor" href="#arg-tracking"></a></dt>
<dd><p>The tracking object.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>A <code>fwdControl</code> object obtained from the 'hcr' step is applied in the
management year (<code>ay + mlag</code>) or years (<code>seq(ay + mlag, ay + mlag + freq</code>).
An assumption is made on the mortality in the assessment year (<code>ay</code>), which
becomes the intermediate year in this projection. By default this is set
to Fbar = Fsq, that is, the same fishing mortality estimated in the
last data year (<code>ay - data_lag</code>).</p>
<p>The projection applies a constant recruitment, equal to the geometric mean
over an specified number of years. By default all years minus the last two
are included in the calculation. An specific set of years can be employed,
by specifying a character vector of year names, or two values can be given
for the number of years to be inlcuded, counting from the last, and how many
years to exclude at the end. For example, <code>c(30, 2)</code> will use the last 30
years but excluding the last two, usually worst estimated.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sol274</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>namespace ‘AAP’ is not available and has been replaced</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> by .GlobalEnv when processing object ‘om’</span>
<span class="r-in"><span><span class="co"># Setup control with tac.is</span></span></span>
<span class="r-in"><span><span class="va">control</span> <span class="op">&lt;-</span> <span class="fu"><a href="mpCtrl-class.html">mpCtrl</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>est<span class="op">=</span><span class="fu"><a href="mseCtrl-class.html">mseCtrl</a></span><span class="op">(</span>method<span class="op">=</span><span class="va">perfect.sa</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  hcr<span class="op">=</span><span class="fu"><a href="mseCtrl-class.html">mseCtrl</a></span><span class="op">(</span>method<span class="op">=</span><span class="va">hockeystick.hcr</span>,</span></span>
<span class="r-in"><span>    args<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>lim<span class="op">=</span><span class="fl">0</span>, trigger<span class="op">=</span><span class="fl">4.3e5</span>, target<span class="op">=</span><span class="fl">0.21</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  isys<span class="op">=</span><span class="fu"><a href="mseCtrl-class.html">mseCtrl</a></span><span class="op">(</span>method<span class="op">=</span><span class="va">tac.is</span>, args<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>recyrs<span class="op">=</span><span class="op">-</span><span class="fl">3</span>, output<span class="op">=</span><span class="st">'landings'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Run MP until 2025</span></span></span>
<span class="r-in"><span><span class="va">run</span> <span class="op">&lt;-</span> <span class="fu"><a href="mp.html">mp</a></span><span class="op">(</span><span class="va">om</span>, <span class="va">oem</span>, ctrl<span class="op">=</span><span class="va">control</span>, args<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>iy<span class="op">=</span><span class="fl">2021</span>, fy<span class="op">=</span><span class="fl">2027</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2021  - 2022  - 2023  - </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Selected elements do not form a coherent 6D array</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2024  - </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Selected elements do not form a coherent 6D array</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2025  - </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Selected elements do not form a coherent 6D array</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2026  - </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Selected elements do not form a coherent 6D array</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># Plot run time series</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">om</span>, TAC.IS<span class="op">=</span><span class="va">run</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 6300 rows containing non-finite outside the scale range</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> (`stat_fl_quantiles()`).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 6300 rows containing non-finite outside the scale range</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> (`stat_fl_quantiles()`).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 6300 rows containing non-finite outside the scale range</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> (`stat_fl_quantiles()`).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 6300 rows containing non-finite outside the scale range</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> (`stat_fl_quantiles()`).</span>
<span class="r-plt img"><img src="tac.is-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Iago Mosqueira, Ernesto Jardim.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

